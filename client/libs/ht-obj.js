!function(Q,F,D){"use strict";var j="ht",c=Q[j],w=null,O=Math,b=O.abs,M=O.max,m=Number.MAX_VALUE,N=c.Default,A=N.getInternal(),L=N.clone,P=A.vec3TransformMat4,U=[0,0],J=A.appendArray,d=function(){function d(v,L,u,C){if(v){var p=v[C];if(p){u.ignoreColor||(L.color=p.kd),!u.ignoreTransparent&&p.d>0&&p.d<1&&(L.transparent=!0,L.opacity=p.d);var y;if(!u.ignoreImage&&(y=p.map_kd)){y=y.split(" ");for(var t=-1,J=0;J<y.length;J++)"-o"===y[J]?(L.uvOffset=[parseFloat(y[J+1]),parseFloat(y[J+2])],J+=3,t=J):"-s"===y[J]&&(L.uvScale=[parseFloat(y[J+1]),parseFloat(y[J+2])],J+=3,t=J);L.image=(u.prefix||"")+y.splice(t+1).join(" ")}}}}var W=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,a=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,O=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,K=/^[og]\s*(.+)?/,Z=function(g,J){return J=parseInt(J),J>=0?g[J-1]:g[J+g.length]},$=function(Y,U,W,t,b){if(Y.lvs){var j=Z(U,t),m=Z(U,b),E=W.matrix,h=Y.lvs;E?(J(h,P(L(j),E)),J(h,P(L(m),E))):(J(h,j),J(h,m))}},l=function(F,T,n,u,z,R){if(F.vs){var s=Z(T,u),q=Z(T,z),m=Z(T,R),X=n.matrix,N=F.vs;if(n.flipFace){var Y=q;q=m,m=Y}X?(J(N,P(L(s),X)),J(N,P(L(q),X)),J(N,P(L(m),X))):(J(N,s),J(N,q),J(N,m))}},u=function(d,h,I,M,g,Y){if(d.vs){var n=I.flipY,r=M===D?U:Z(h,M),a=g===D?U:Z(h,g),$=Y===D?U:Z(h,Y);if(I.flipFace){var E=a;a=$,$=E}d.uv.push(r[0],n?1-r[1]:r[1],a[0],n?1-a[1]:a[1],$[0],n?1-$[1]:$[1])}},p=function(t,N,c,W,C,O){if(t.vs){var w=Z(N,W),h=Z(N,C),q=Z(N,O),Y=c.normalMatrix,n=t.ns;if(c.flipFace){var G=h;h=q,q=G}Y?(J(n,P(L(w),Y)),J(n,P(L(h),Y)),J(n,P(L(q),Y))):(J(n,w),J(n,h),J(n,q))}},I=function(o,K,U,G){for(var m=G.length-1,a=0;m>a;++a)$(o,K,U,G[a],G[a+1]);$(o,K,U,G[m],G[0])},R=function(Y,e,C,w,A,P,$,Z){var o=w&&w.length&&Z;P[3]===D?(l(Y,e,A,P[0],P[1],P[2]),$?u(Y,C,A,$[0],$[1],$[2]):Y.uv&&Y.uv.length&&u(Y,C,A),o&&p(Y,w,A,Z[0],Z[1],Z[2])):(l(Y,e,A,P[0],P[1],P[3]),l(Y,e,A,P[1],P[2],P[3]),$?(u(Y,C,A,$[0],$[1],$[3]),u(Y,C,A,$[1],$[2],$[3])):Y.uv&&Y.uv.length&&(u(Y,C,A),u(Y,C,A)),o&&(p(Y,w,A,Z[0],Z[1],Z[3]),p(Y,w,A,Z[1],Z[2],Z[3])))},f=function(N,o,K,p){var s,h,R,Y,W,f,w,V,I=m,U=m,$=m,S=-m,B=-m,e=-m;for(s in N)for(f=N[s].vs,V=f.length,h=0;V>h;h+=3)R=f[h+0],Y=f[h+1],W=f[h+2],I>R&&(I=R),U>Y&&(U=Y),$>W&&($=W),R>S&&(S=R),Y>B&&(B=Y),W>e&&(e=W);if(K){var t=I+(S-I)/2,a=U+(B-U)/2,l=$+(e-$)/2;for(s in N){for(f=N[s].vs,V=f.length,h=0;V>h;h+=3)f[h+0]-=t,f[h+1]-=a,f[h+2]-=l;if(w=N[s].lvs)for(V=w.length,h=0;V>h;h+=3)w[h+0]-=t,w[h+1]-=a,w[h+2]-=l}}var C,q,J;K?(C=S-I,q=B-U,J=e-$):(C=2*M(b(I),b(S)),q=2*M(b(U),b(B)),J=2*M(b($),b(e))),0===C&&(C=Math.min(q,J)/1e3||.001),0===q&&(q=Math.min(C,J)/1e3||.001),0===J&&(J=Math.min(C,q)/1e3||.001),p.rawS3=[C,q,J];for(s in N){if(f=N[s].vs,w=N[s].lvs,o){for(V=f.length,h=0;V>h;h+=3)C&&(f[h+0]/=C),q&&(f[h+1]/=q),J&&(f[h+2]/=J);if(w)for(V=w.length,h=0;V>h;h+=3)C&&(w[h+0]/=C),q&&(w[h+1]/=q),J&&(w[h+2]/=J);var d=N[s].ns;if(d){V=d.length;var D=new c.Math.Vector3;for(h=0;V>h;h+=3)D.set(d[h+0]*C,d[h+1]*q,d[h+2]*J).normalize(),d[h+0]=D.x,d[h+1]=D.y,d[h+2]=D.z}}N[s].rawS3=p.rawS3}};return function(P,T,L){if(!P)return w;(A.isString(T)||T instanceof ArrayBuffer)&&(T=V(T)),L||(L={}),L.flipY==w&&(L.flipY=!0),(L.s3||L.r3||L.t3||L.mat)&&(L.matrix=A.createWorldMatrix(L.mat,L.s3,L.r3,L.rotationMode,L.t3));var B,q,y,F,j,z=c.Style["wf.loadQuadWireframe"],v=[],_=[],S=L.ignoreNormal?w:[],s=L.reverseFlipMtls,Y={vs:[],uv:[],ns:S?[]:w},e={htdefault:Y},m=new k(P),H={},n="";for(S&&L.matrix&&(L.normalMatrix=A.createNormalMatrix(L.matrix));null!=(q=m.stepNext());)if(q=q.trim(),0!==q.length&&"#"!==q.charAt(0))if(q.indexOf("\\")!==q.length-1)if(n&&(q=n+q,n=""),q.indexOf("#QNAN0")>=0&&(q=q.replace(/#QNAN0/gi,"0")),y=W.exec(q))v.push([parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])]);else if(y=a.exec(q))_.push([parseFloat(y[1]),parseFloat(y[2])]);else if(S&&(y=O.exec(q)))L.flipFace?S.push([parseFloat(-y[1]),parseFloat(-y[2]),parseFloat(-y[3])]):S.push([parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])]);else if("f"===q[0]){var h=q.split(/\s+/);if(h.length<4)continue;var U,B,i,Z=[],r=[],E=[];for(B=1,i=h.length;i>B;B++)U=h[B].split("/"),Z.push(parseInt(U[0],10)),U.length>1&&U[1].length>0&&E.push(parseInt(U[1],10)),U.length>2&&U[2].length>0&&r.push(parseInt(U[2],10));for(B=0,i=Z.length-2;i>B;B++)R(Y,v,_,S,L,[Z[0],Z[B+1],Z[B+2]],E.length?[E[0],E[B+1],E[B+2]]:w,r.length?[r[0],r[B+1],r[B+2]]:w);z&&I(Y,v,L,Z)}else if(L.part&&null!==(y=K.exec(q))){Y.vs&&0!==Y.vs.length||(delete e[Y.name],H[Y.name]--);var F=(" "+y[0].substr(1).trim()).substr(1),l=H[F]||0;H[F]=l+1,j=F+(l?l:""),Y=e[j]={name:j,vs:[],uv:[],ns:S?[]:w,lvs:z?[]:w}}else/^usemtl /.test(q)&&(F=q.substring(7).trim(),L.part?d(T,Y,L,F):(Y=e[F])||(Y=e[F]={name:F,vs:[],uv:[],ns:S?[]:w,lvs:z?[]:w},L.ignoreMtls&&L.ignoreMtls.indexOf(F)>=0&&delete Y.vs,(L.reverseFlip||"*"===s||s&&s.indexOf(F)>=0)&&(Y.reverseFlip=!0),d(T,Y,L,F)));else n+=q.substring(0,q.length-1);var p=[];for(var M in e){var G=e[M].vs;G&&0!==G.length||p.push(M)}p.forEach(function(z){delete e[z]}),f(e,L.cube,L.center,L);var g=L.shape3d;if(g){var u=[];for(var F in e){var Y=e[F];u.rawS3=Y.rawS3,u.push(Y)}N.setShape3dModel(g,u)}return e}}(),V=function(d){var t={};if(d)for(var p,U,V,D,q,S,P=new k(d),R=/\s+/;null!=(U=P.stepNext());)U=U.trim(),0!==U.length&&"#"!==U.charAt(0)&&(V=U.indexOf(" "),D=(V?U.substring(0,V):U).toLowerCase(),q=(V?U.substring(V+1):"").trim(),"newmtl"===D?t[q]=p={name:q}:p&&("ka"===D||"kd"===D||"ks"===D?(S=q.split(R,3),p[D]=[parseFloat(S[0]),parseFloat(S[1]),parseFloat(S[2]),1]):p[D]="ns"===D||"d"===D?parseFloat(q):q));return t},k=function(n){var g=this;if(n instanceof ArrayBuffer){g.isBuffer=!0;var o=0,d=new Uint8Array(n),r=d.length,y=d.length;g.stepNext=function(){for(var g,_,m=o;r>o;)if(g=d[o],_=g>>4,12===_||13==_)o+=2;else if(14===_)o+=3;else if(o++,10===g)return String.fromCharCode.apply(null,d.subarray(m,o));return o>m?String.fromCharCode.apply(null,d.subarray(m,o)):null}}else{g.isBuffer=!1;var B=n.split("\n"),m=0,y=B.length;g.stepNext=function(){return y>m?B[m++]:null}}};k.prototype={},k.prototype.constructor=k,A.addMethod(N,{loadObj:function(S,P,T){T=T||{};var K=!1;/(MSIE |Trident\/|Edge\/)/.test(Q.navigator.userAgent)&&(K=!0);var p=function(_){var i,b=T.finishFunc,j=T.shape3d,e=_?d(_[0],_[1],T):null;if(e){if(j)i=N.getShape3dModel(j);else{i=[];for(var L in e){var h=e[L];i.rawS3=h.rawS3,i.push(h)}}b&&b(e,i,i.rawS3)}else b&&b(null)};if(K){var t=function(Y){T.responseType="arraybuffer",N.xhrLoad(S,function(L){p([L,Y])},T)};P?N.xhrLoad(P,function(y){t(y)},T):t()}else N.xhrLoad(P?[S,P]:[S],p,T)},parseObj:function(K,X,f){return d(K,X,f)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);