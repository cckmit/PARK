!function(x,_){"use strict";var f="ht",O=x[f],m="px",C="left",l="top",s="bottom",I="right",N="innerHTML",p="className",Z="",o="width",c="height",$="string",q="position",P="absolute",v="0",K="opacity",k="background",J=O.Default,t=J.getInternal(),n=O.Color,U=J.animate,i=J.isTouchable,a=null,X=(Math.sqrt,x.parseInt),D=x.setTimeout,B=(Math.round,n.titleIconBackground),L=function(L){return typeof L===$||L instanceof String},u=function(){return document},E=function(w){return u().createElement(w)},z=function(){var F=E("div");return F.tabIndex=-1,F.style.outline="none",F},F=function(){return E("canvas")},h=function(D,A){G(D,"-webkit-transform",A),G(D,"-ms-transform",A),G(D,"transform",A)},G=function(v,C,n){v.style.setProperty(C,n,a)},w=function(D,$,i){J.def(O.widget[D],$,i)},e=function(V,Q){V.appendChild(Q)},T=function(){return u().documentElement},S=function(){return T().clientWidth},b=function(){return T().clientHeight},M=t.addEventListener,H=t.removeEventListener,A=function(b){var F=b.touches[0];return F?F:b.changedTouches[0]};t.addMethod(J,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:B},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:B}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:B},{type:"rect",rect:[10,10,80,20],background:B}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:B},{type:"rect",rect:[10,34,56,14],background:B},{type:"rect",rect:[34,10,56,14],background:B},{type:"rect",rect:[82,10,8,56],background:B},{type:"rect",rect:[66,62,24,8],background:B}]},dialogTitleLabelColor:J.labelSelectColor,dialogTitleLabelFont:(i?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:J.labelFont,dialogTitleBackground:n.titleBackground,dialogHeaderBackground:n.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var Q=function(H){var T=this;T.$1d=H,T.addListeners()};J.def(Q,_,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(G){var x=this,K=x.$1d,I=K.$6d,V=K._config,Y=K.$7d,C=G,o=G.target;if(Y.contains(o)||J.preventDefault(G),J.isLeftButton(G)){i&&(C=A(G));var M=x.$8d={x:C.pageX,y:C.pageY};x.$9d={x:M.x,y:M.y},!V.maximized&&V.draggable&&I.contains(o)&&(x.$4d=!0,J.startDragging(x,G)),x.handle_mousemove(G)&&(x.$2d=!0,J.startDragging(x,G)),Y.contains(G.target)||K.$41d.focus()}},handle_mousedown:function(G){this.handle_touchstart(G)},handle_touchend:function(G){if(J.isLeftButton(G)&&!this.$5d&&!this.$3d){var C=this,s=C.$1d,z=G.target,D=s._config,X=s.$18d,F=s.$16d;for(D.closable&&X.contains(z)&&s.hide(),D.maximizable&&F.contains(z)&&(D.maximized?s.restore():s.maximize());z&&(z.className||"").indexOf("dialog-button")<0;)z=z.parentNode;z&&z.buttonItem&&s.action&&s.action(z.buttonItem,G),delete C.$8d,delete C.$9d}},handle_mouseup:function(B){this.handle_touchend(B)},handleWindowTouchEnd:function(P){var Q=this,U=Q.$1d,q=U.$10d;Q.$2d&&Q.$3d?q.fire({kind:"endResize",target:U,originEvent:P}):Q.$4d&&Q.$5d&&q.fire({kind:"endMove",target:U,originEvent:P}),this.clear()},handleWindowMouseUp:function(I){this.handleWindowTouchEnd(I)},handle_mousemove:function($){var M=this.$1d._config;if(M.maximized)return!1;if("w"!==M.resizeMode&&"h"!==M.resizeMode&&"wh"!==M.resizeMode)return!1;var f=this,q=f.getView(),O=q.querySelector(".resize-area"),D=O.getBoundingClientRect(),P={x:D.left,y:D.top,width:D.width,height:D.height};$=i?A($):$;var C=$.clientX,j=$.clientY,m={x:C,y:j};return J.containsPoint(P,m)?(G(q,"cursor","nwse-resize"),!0):(G(q,"cursor",Z),void 0)},handleWindowTouchMove:function(e){e.preventDefault();var K=e;i&&(K=A(e));var j=this,v=j.$8d,N=j.$9d;if(!(N.x==v.x&&N.y==v.y&&J.getDistance(N,{x:K.pageX,y:K.pageY})<=1)){var L=j.$1d,Z=L._config,T=L.$21d,I=Z.resizeMode||"wh",k=K.pageX-v.x,M=K.pageY-v.y;if(j.$2d){var U=T.offsetWidth,Q=T.offsetHeight,r=U+k,d=Q+M;if(r=Math.max(r,50),d=Math.max(d,50),"center"===Z.position||Z.position==a){var o={},Y=T.getBoundingClientRect();o.x=Y.left,o.y=Y.top,Z.position=o}"w"===I?(L.setSize(r,Q),v.x+=r-U):"h"===I?(L.setSize(U,d),v.y+=d-Q):"wh"===I&&(L.setSize(r,d),v.x+=r-U,v.y+=d-Q),j.$3d?L.$10d.fire({kind:"betweenResize",target:L,originEvent:e}):(j.$3d=!0,L.$10d.fire({kind:"beginResize",target:L,originEvent:e}))}else if(j.$4d){var _=T.getBoundingClientRect(),t=_.width,s=_.height,W=S(),E=b(),x=X(T.style.left)||0,q=X(T.style.top)||0,F=x+k,n=q+M,P=L.adjustPosition({x:F,y:n},{width:t,height:s},{width:W,height:E});P&&(F=P.x,n=P.y);var $=F-x,y=n-q;G(T,C,F+m),G(T,l,n+m),v.x+=$,v.y+=y,Z.position={x:F,y:n},j.$5d?L.$10d.fire({kind:"betweenMove",target:L,originEvent:e}):(j.$5d=!0,L.$10d.fire({kind:"beginMove",target:L,originEvent:e}))}}},handleWindowMouseMove:function(c){this.handleWindowTouchMove(c)},handleWindowResize:function(){var N=this,q=N,L=q._config,j=q.$21d,f=S(),P=b(),n=L.width,R=L.height,K=L.position||"center";L.maximized?(G(j,o,f+m),G(j,c,P+m),G(j,l,v),G(j,C,v)):(G(j,o,n+m),G(j,c,R+m),"center"===K?(G(j,C,(f-n)/2+m),G(j,l,(P-R)/2+m)):(G(j,C,K.x+m),G(j,l,K.y+m))),q.iv()},handle_mousewheel:function(f){f.stopPropagation()},handle_DOMMouseScroll:function(u){u.stopPropagation()}}),O.widget.Dialog=function(F){var X=this,C=X._view=t.createView(null,X);C[p]="ht-widget-dialog",G(C,q,P),J.baseZIndex!=a&&G(C,"z-index",J.baseZIndex+"");var R=X.$11d=new Q(X);X.bindingHandleWindowResize=R.handleWindowResize.bind(X),X.$10d=new O.Notifier,F&&X.setConfig(F)},w("Dialog",_,{ms_v:1,ms_fire:1,setTitle:function(L){this._config.title=L,this.getView().querySelector(".dialog-container-title span").innerHTML=L},clearNodes:function(U){if(U)for(;U.firstChild;)U.removeChild(U.firstChild)},$31d:function(){var P=this,i=P.$6d=z(),s=P._config,o=P.$12d=P.$13d();i[p]="dialog-container-title",G(i,"cursor","default"),G(i,"white-space","nowrap"),G(i,"overflow","hidden"),G(i,"font",J.dialogTitleLabelFont),G(i,k,s.titleBackground||J.dialogTitleBackground),G(i,"color",s.titleColor||J.dialogTitleLabelColor);var j=E("span"),x=P.$25d();if(s.titleAlign&&G(i,"text-align",s.titleAlign),s.titleIcon){var Y=P.$14d=P.$15d();e(i,Y)}if(s.title&&s.title.trim&&(s.title=s.title.trim()),j[N]=s.title||"&nbsp;",e(i,j),s.maximizable){var W=P.$16d=P.$17d();e(o,W)}if(s.closable){var f=P.$18d=P.$19d();e(o,f)}return e(i,o),G(i,"display","block"),G(i,"line-height",x+m),i},$13d:function(){var t=z();return G(t,q,P),G(t,C,v),G(t,I,5+m),G(t,l,v),G(t,s,v),G(t,"text-align",I),G(t,"white-space","nowrap"),t[p]="dialog-title-controls",t},$20d:function(){var V=this.$21d=z(),A=this._config,H=A.borderWidth;return G(V,q,"fixed"),G(V,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),G(V,"padding",v+" "+H+m+" "+H+m+" "+H+m),G(V,"box-sizing","border-box"),G(V,"-moz-box-sizing","border-box"),V[p]="dialog-container",G(V,k,A.titleBackground||J.dialogTitleBackground),V},$22d:function(){var M,b=this,d=b._config,S=b.$7d=z(),D=d.content,y=0,X=d.contentPadding||0;d.buttons!=a&&d.buttons.length>0&&(y=32),L(D)?S[N]=D:D.getView?(M=D.getView(),e(S,M)):(M=D,e(S,M)),G(S,q,P),G(S,"font",J.dialogContentLabelFont),O.Default.appendToScreen(S);var w=S.offsetWidth+1,g=S.offsetHeight,j=b.$25d();return d.width==a&&(d.width=w+10+2*X),d.height==a&&(d.height=g+j+y+5+2*X),O.Default.removeHTML(S),M&&(G(M,"box-sizing","border-box"),G(M,"-moz-box-sizing","border-box"),G(M,o,"100%"),G(M,c,"100%")),S[p]="dialog-content",G(S,l,j+X+m),G(S,s,y+X+m),G(S,C,X+m),G(S,I,X+m),G(S,"overflow","hidden"),S},getOverlayDiv:function(){return this.$41d},$23d:function(){var I=this.$41d=z();return I[p]="dialog-overlay",G(I,o,"100%"),G(I,c,"100%"),G(I,q,"fixed"),G(I,l,v),G(I,C,v),G(I,k,"rgba(235, 235, 235, 0.7)"),I},_config:a,setSize:function(X,h){var C=this,z=C._config;z&&(z.width=X,z.height=h,C.isShowing()&&(C.bindingHandleWindowResize(),C.iv()))},getConfig:function(){return this._config},$24d:function(){var B=this._config,k=B.titleIconSize||16;return i&&(k*=1.2),k},$25d:function(){var P=this._config,l=P.titleHeight||J.widgetTitleHeight;return l},$26d:function(d){G(d,"cursor","pointer"),G(d,"display","inline-block"),G(d,"margin-right",(i?8:4)+m),G(d,"vertical-align",l)},$27d:function(){var f=this.$30d=z(),b=10;return i&&(b=20),G(f,o,b+m),G(f,c,b+m),G(f,q,P),G(f,s,v),G(f,I,v),f[p]="resize-area",f},$15d:function(){var K=this,j=F();j[p]="dialog-title-control dialog-title-control-icon";var Q=K.$25d(),X=K.$24d();return K.$26d(j),t.setCanvas(j,X,Q),j},$17d:function(){var y=F();y[p]="dialog-title-control dialog-title-control-maximize";var e=this.$25d(),A=this.$24d();return this.$26d(y),t.setCanvas(y,A,e),y},$19d:function(){var D=F();D[p]="dialog-title-control dialog-title-control-close";var C=this.$25d(),M=this.$24d();return this.$26d(D),t.setCanvas(D,M,C),D},$28d:function(){var F=z();return G(F,k,J.dialogContentBackground||"white"),G(F,o,"100%"),G(F,c,"100%"),G(F,q,"relative"),F},$29d:function(){var Z=this,K=z();G(K,"line-height",32+m),G(K,q,P),G(K,s,v),G(K,C,v),G(K,"white-space","nowrap"),G(K,"overflow","hidden"),G(K,I,v),G(K,k,J.dialogHeaderBackground),K[p]="dialog-container-buttons";var _=this._config,y=_.buttonsAlign||I,h=0;return G(K,"text-align",y),Z.$42d=[],_.buttons.forEach(function(U){var N=new O.widget.Button,M=N.getView();M[p]="dialog-button "+U.className,M.buttonItem=U,Z.$42d.push(N),N.setBorderColor(a),N.setBackground(J.dialogButtonBackground),N.setSelectBackground(J.dialogButtonSelectBackground),N.setLabelColor(J.dialogButtonLabelColor),G(M,q,"relative"),G(M,"display","inline-block"),G(M,"text-align",C),G(M,"height",24+m);var g=i?10:5;y===C||y===I?G(M,"margin-"+y,g+m):0===h||G(M,"margin-"+C,g+m),G(M,"vertical-align","middle");var A=J.getTextSize(N.getLabelFont(),U.label).width+10;N.onClicked=function(m){U.action&&U.action.call(Z,U,m)},N.setLabel(U.label),N.setDisabled(U.disabled),G(M,o,A+m),e(K,N.getView()),h++}),K},setConfig:function(W){if(W){var H=this,w=H._view;H._config=W,H.action=W.action,H.clearNodes(w),W.borderWidth==a&&(W.borderWidth=5);var F=H.$23d(),Q=H.$28d(),O=H.$31d(),t=H.$22d(),f=H.$20d(),R=H.$30d=H.$27d();if(e(w,F),e(w,f),e(f,Q),e(Q,O),e(Q,t),W.buttons!=a&&W.buttons.length>0){var i=H.$29d();e(Q,i)}e(f,R),W.maximized?(W.maximized=!1,H.bindingHandleWindowResize(),H.maximize(!0)):H.bindingHandleWindowResize(),H.isShowing()&&H.iv()}},hide:function(){var V=this,M=V.$21d,u=V.$41d,J=V._view;J[p]="ht-widget-dialog",U(M).duration(200).scale(.7).set(K,v).end(function(){V.onHidden&&V.onHidden(),O.Default.removeHTML(J),V.$10d.fire({kind:"hide",target:V})}),U(u).duration(200).set(K,v).end(),H(x,"resize",V.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(J){this.$41d.style.display=J?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var E=this,W=E._config,i=E.$21d;h(i,Z),E.iv(),W.maximized?E.$10d.fire({kind:"maximize",target:E}):E.$10d.fire({kind:"restore",target:E})},maximize:function(J){var R=this,G=R.$21d,g=R._config;if(!g.maximized){g.maximized=!0,R.$33d(),R.$16d[p]="dialog-title-control dialog-title-control-minimize";var e=S(),Y=b(),D=g.width,L=g.height,O=X(G.style.left)||0,F=X(G.style.top)||0;R.$36d=D,R.$37d=L,R.$34d=O,R.$35d=F;var V=J?0:200;U(G).duration(V).set(C,v).set(l,v).set(o,e+m).set(c,Y+m).end(function(){R.$32d()})}},restore:function(){var _=this,z=_.$34d,k=_.$35d,v=_.$36d,r=_.$37d,J=_._config;if(J.maximized&&(J.maximized=!1,_.$33d(),_.$16d[p]="dialog-title-control dialog-title-control-maximize",_.isShowing()&&z!=a&&k!=a&&v!=a&&r!=a)){var O=_.$21d;U(O).duration(200).set(C,z+m).set(l,k+m).set(o,v+m).set(c,r+m).end(function(){_.$32d()})}delete _.$34d,delete _.$35d,delete _.$36d,delete _.$37d},show:function(){var C=this,t=C._view,j=C._config,Q=C.$21d,H=C.$41d;j&&j.zIndex!=a&&G(t,"z-index",j.zIndex+Z),O.Default.appendToScreen(t),h(Q,"scale(0.7)"),G(Q,K,v),C.iv(),C.validate(),C._view[p]+=" dialog-show",D(function(){U(Q).duration(200).scale(1).set(K,"1").end(function(){G(Q,o,Q.clientWidth+m),G(Q,c,Q.clientHeight+m),C.onShown&&C.onShown(),C.$10d.fire({kind:"show",target:C});var L=j&&j.content;L&&L.iv&&L.iv()}),U(H).duration(200).set(K,"1").end(),M(x,"resize",C.bindingHandleWindowResize)},30)},setPosition:function(B){var V=this.$21d;V.style.left=B.x+"px",V.style.top=B.y+"px"},addEventListener:function(p,S,g){this.$10d.add(p,S,g)},removeEventListener:function(S,n){this.$10d.remove(S,n)},$38d:function(S,c,G,X){var o=t.initContext(S);t.translateAndScale(o,0,0,1),o.clearRect(0,0,G,G);var H=(G-X)/2;J.drawStretchImage(o,J.getImage(c),"fill",0,H,X,X),o.restore()},$33d:function(){var A=this,z=A._config,X=A.$16d,g=z.maximized?J.dialogRestoreIcon:J.dialogMaximizeIcon;if(X&&g){var f=A.$25d(),$=A.$24d();A.$38d(X,J.getImage(g),f,$)}},$39d:function(){var K=this,U=K._config,g=K.$14d,z=U.titleIcon;if(g&&z){var V=K.$25d(),m=K.$24d();K.$38d(g,J.getImage(z),V,m)}},$40d:function(){var N=this,G=N.$18d,W=J.dialogCloseIcon;if(G&&W){var i=N.$25d(),a=N.$24d();N.$38d(G,J.getImage(W),i,a)}},invalidate:function(r){var $=this,z=$.$42d;$._68I||($._68I=1,J.callLater($.validate,$,a,r),$.onInvalidated&&$.onInvalidated(),$.fireViewEvent("invalidate"));var _=$._config.content;_.invalidate&&_.invalidate(),z&&z.forEach(function(c){c.iv()})},validateImpl:function(){var N=this;N.$40d(),N.$33d(),N.$39d();var n=N._config.content;n.initView&&(n.setX(0),n.setY(0),n.setWidth(N.$7d.clientWidth),n.setHeight(N.$7d.clientHeight))},adjustPosition:function(d,V,o){var j=V.width,Z=V.height,a=o.width,A=o.height,P=d.x,b=d.y,X=this._config,D=X.minDragSize||20;return"inside"===X.dragMode?(P+j>a&&(P=a-j),b+Z>A&&(b=A-Z),0>P&&(P=0),0>b&&(b=0)):(null==X.dragMode||"none"===X.dragMode)&&(-j+D>P&&(P=-j+D),P>a-D&&(P=a-D),b>A-D&&(b=A-D),0>b&&(b=0)),{x:P,y:b}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);